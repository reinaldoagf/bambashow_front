<div class=" header bg-danger pb-6">
    <div class=" container-fluid">
        <div class=" header-body">
            <div class=" row align-items-center py-4">
                <div class=" col-lg-6 col-7">
                    <h6 class=" h2 text-white d-inline-block mb-0">{{product.id ? 'Actualizar producto' : 'Crear producto'}}</h6>
                </div>
            </div>
        </div>
    </div>
</div>
<div class=" container-fluid mt--15">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class=" card mb-4">
                <div class=" card-header">
                    <h3 class=" mb-0">Formulario</h3>
                </div>
                <div class=" card-body">
                    <div class=" form-group">
                        <label class=" form-control-label" for="name">
                            Nombre
                        </label>
                        <input class=" form-control" id="name" placeholder="Nombre"
                            type="text" [(ngModel)]="product.name" />
                    </div>
                    <div class=" form-group">
                        <label class=" form-control-label" for="price">
                            Precio
                        </label>
                        <input class=" form-control" id="price" placeholder="precio"
                            type="number" [(ngModel)]="product.price" />
                    </div>
                    <div class=" form-group">
                        <label class=" form-control-label" for="raw-material">
                            Categoría
                        </label>
                        <!-- name="raw-material" -->
                        <ng-multiselect-dropdown
                            [placeholder]="'Categoría'"
                            [settings]="categoryDropdownSettings"
                            [data]="categoryOptions"
                            [(ngModel)]="product.id_product_category"
                            (onSelect)="onItemSelect($event)">
                        </ng-multiselect-dropdown>
                    </div>

                    <div class="items__wrapper mb-2" >
                        <ng-container *ngFor="let item of product.stock; index as i">
                            <div class="row">
                                <div class="col-md-5">
                                    <input class=" form-control" id="quantity" placeholder="Cantidad"
                                        type="number" min="1" [(ngModel)]="item.quantity"/>
                                </div>
                                <div class="col-md-5">
                                    <ng-multiselect-dropdown name="size" [placeholder]="'Tallas'" [data]="['SS','S','M','L','XL']"
                                      [(ngModel)]="item.size" [settings]="dropdownSettings" [disabled]="false">
                                    </ng-multiselect-dropdown>
                                </div>
                                <div class="col-md-2 d-flex justify-content-center align-items-center">
                                    <button class="btn btn-danger" (click)="removeItem(item)">
                                        <i class="fa fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="d-flex justify-content-end" >
                            <button class="btn btn-success" (click)="addItem()">
                                Agregar elemento
                                <i class="fa fa-plus"></i>
                            </button>
                    </div>
                </div>
                <div class="card-footer justify-content-end">
                    <button type="submit" class="btn btn-primary" (click)="save()"> {{product.id ? 'Actualizar' : 'Crear'}} </button>
                </div>
            </div>
        </div>
    </div>
</div>